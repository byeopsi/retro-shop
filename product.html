<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./assets/css/style.css" />
    <link rel="stylesheet" href="./assets/css/product-style.css" />
    <title>Retro Shop</title>
</head>
<body>
    <div id="retro-shop-app">
        <section id="left-container">
        </section>
        <section id="right-container">
            <nav>
                <ul>
                    <li class="menu" id="home"><a>HOME</a></li>
                    <li class="menu" id="new"><a>NEW</a></li>
                    <li class="menu" id="cloth"><a>CLOTH</a></li>
                    <li class="menu" id="socks"><a>SOCKS</a></li>
                    <li class="menu" id="shoes"><a>SHOES</a></li>
                    <li class="menu hidden" id="cart"><a>ğŸ›’</a></li>
                </ul>
            </nav>
            <main>
              <div id="product-img">
                <img data-bind="src" />
              </div>
              <div id="product-info">
                <h3 data-bind="name"></h3>
                <h4 data-bind="price"></h4>
                <div id="product-buy">
                  <select id="product-quantity">
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                  </select>
                  <button id="add-cart">Add Cart</button>
                  <button id="buy-now">Buy Now</button>
                </div>
              </div>
              <div id="product-detail">
                <span>Lorem ipsum dolor sit amet consectetur adipisicing elit. Et officia nisi eligendi, cum asperiores dolores ipsum ad saepe error quia aspernatur, iure eos eveniet voluptas, optio voluptates illo ducimus in.</span>
                <span>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Nisi accusamus voluptate placeat libero eligendi mollitia, neque error, quia deserunt quibusdam impedit suscipit quos quasi sint consequatur dolorem repellendus ab unde quae ducimus maxime. Mollitia quia saepe beatae debitis omnis esse provident! Id, doloremque sed. Laborum voluptatem magnam temporibus doloribus perspiciatis.</span>
                <span>Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugiat ratione neque deserunt a accusamus fugit exercitationem ad natus tempora facilis doloribus non odio ipsum, in culpa nobis soluta impedit quae animi quibusdam velit illo quaerat dolores veniam? Tempore, a animi.</span>
              </div>
            </main>
        </section>
        <div id="login-btn" onclick="toggleLoginPopup()">
          <span>LOGIN</span>
        </div>
        <footer>2026 @beyopsi</footer>
        <div id="login-popup">
          <div id="login-container">
            <input type="text" placeholder="ì•„ì´ë””"/>
            <input type="password" placeholder="ë¹„ë°€ë²ˆí˜¸" />
            <button type="button"> ë¡œê·¸ì¸ </button>
          </div>
        </div>
    </div>
      <script src="./assets/js/loadLeftContainer.js"></script>
      <script src="./assets/js/loginPopup.js"></script>
      <script src="./assets/js/loadItems.js"></script>
      <script src="./assets/js/loadMenus.js"></script>
</body>
</html>
<script>
  const selectedProduct = sessionStorage.getItem('selectedProduct');
  const itemData = JSON.parse(selectedProduct);

  document.querySelectorAll("[data-bind]").forEach(
    (el) => {
      const key = el.dataset.bind;
      if(key === "src"){
        el.src = itemData[key];
      } else if(key === "name"){
        el.textContent = itemData[key];
      } else if(key === "price") {
        el.textContent = itemData[key] + "ì›";
      }
    }
  )

  document.addEventListener('click', (e) => {
    if(e.target.id === 'add-cart'){
      let cartData = JSON.parse(localStorage.getItem("cart")) || [];
      const quantity = Number(document.querySelector('#product-quantity').value);

      const existingItem = cartData.find(
        (item) => item.id === itemData.id
      )

      if(existingItem) existingItem.quantity += quantity;
      else cartData.push(itemData);

      localStorage.setItem("cart", JSON.stringify(cartData));
      alert("ìƒí’ˆì´ ì¥ë°”êµ¬ë‹ˆì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.");
    }
    });

</script>
